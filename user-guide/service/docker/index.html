<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://samsung.github.io/LPVS/user-guide/service/docker/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Run service using pre-built Docker image - License Pre-Validation Service</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" disabled>
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../../css/extra.css" rel="stylesheet">
        <link href="../../../css/mkdocsoad.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">License Pre-Validation Service</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">User Guide</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../" class="dropdown-item">User guide</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Service mode</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../webhook/" class="dropdown-item">GitHub webhook configuration</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Run service using pre-built Docker image</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Build and run service from the source code</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Prerequisites</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../scanner/" class="dropdown-item">Scanner installation</a>
</li>
            
<li>
    <a href="../database/" class="dropdown-item">Database configuration</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../build-and-run/" class="dropdown-item">Build and run service</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Command line mode</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../cli/cli_pr/" class="dropdown-item">Single scan of the pull request</a>
</li>
            
<li>
    <a href="../../cli/cli_file/" class="dropdown-item">Single scan of local files</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Configuration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../config/options/" class="dropdown-item">Configuration options</a>
</li>
            
<li>
    <a href="../../config/database/" class="dropdown-item">Database customization</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Developer Guide</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../dev-guide/" class="dropdown-item">Developer guide</a>
</li>
                                    
<li>
    <a href="../../../dev-guide/contributing/" class="dropdown-item">Contributing guide</a>
</li>
                                    
<li>
    <a href="../../../dev-guide/testing_policy/" class="dropdown-item">Testing policy</a>
</li>
                                    
<li>
    <a href="../../../dev-guide/code-review-requirements/" class="dropdown-item">Code review requirements</a>
</li>
                                    
<li>
    <a href="../../../dev-guide/api/" class="dropdown-item">API reference</a>
</li>
                                    
<li>
    <a href="../../../dev-guide/integration/" class="dropdown-item">Integration guide</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">About</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../about/license/" class="dropdown-item">License</a>
</li>
                                    
<li>
    <a href="../../../about/releases/" class="dropdown-item">Releases</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../webhook/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../scanner/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/Samsung/LPVS/blob/main/doc/docs/user-guide/service/docker.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                            <li class="nav-item dropdown">
                              <button id="theme-menu" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme" class="nav-link dropdown-toggle">
                                <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                <span class="d-lg-none ms-2">Toggle theme</span>
                              </button>
                              <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                                    <i class="fa-solid fa-sun fa-fw"></i>
                                    <span class="ms-2">Light</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                                    <i class="fa-solid fa-moon fa-fw"></i>
                                    <span class="ms-2">Dark</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="auto" aria-pressed="true">
                                    <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                    <span class="ms-2">Auto</span>
                                    <i class="fa-solid fa-check ms-auto"></i>
                                  </button>
                                </li>
                              </ul>
                            </li>
                    </ul>
                </div>
            </div>
        </div>
        <script src="../../../js/darkmode.js"></script>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#run-service-using-pre-built-docker-image" class="nav-link">Run service using pre-built Docker image</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#setting-up-lpvs-docker-environment-variables" class="nav-link">Setting up LPVS Docker environment variables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#running-and-stopping-lpvs-and-mysql-docker-images" class="nav-link">Running and stopping LPVS and MySQL Docker images</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="run-service-using-pre-built-docker-image">Run service using pre-built Docker image</h1>
<p>How to download and run pre-built LPVS Docker images without building the LPVS project.</p>
<hr />
<h2 id="setting-up-lpvs-docker-environment-variables">Setting up LPVS Docker environment variables</h2>
<p>For the Docker deployment scenario, you may need to fill in the environment variables 
in the <code>docker-compose.yml</code> file.</p>
<ul>
<li>
<p>Open <code>docker-compose.yml</code> file.</p>
</li>
<li>
<p>In the <code>environment</code> part of the <code>lpvs</code> service, find <code>## Github data for fetching code</code> 
and fill in the GitHub <code>login</code> and personal <code>token</code> that was generated <a href="../webhook/#create-a-personal-github-access-token">earlier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.login=&lt;github-login&gt;</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.token=&lt;personal-token&gt;</span>
</code></pre></div>
</li>
<li>
<p>In case you plan to use a database user other than <code>root</code> reflect this in the appropriate 
lines in the <code>## Database Configuration</code> part of the <code>lpvs</code> service in <code>environment</code> section.</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spring.datasource.username=user</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spring.datasource.password=password</span><span class="w">  </span>
</code></pre></div>
</li>
<li>
<p>Make the following changes in the <code>environment</code> section of <code>mysqldb</code> service near 
<code>MYSQL_ROOT_PASSWORD</code> value:</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">MYSQL_USER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">MYSQL_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">password</span>
</code></pre></div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using only the <code>root</code> user, make the following change:</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spring.datasource.username=root</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spring.datasource.password=rootpassword</span>
<span class="nn">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">MYSQL_ROOT_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rootpassword</span>
</code></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In both cases, ensure that the <code>MYSQL_ROOT_PASSWORD</code> field is filled.</p>
</div>
<ul>
<li>
<p>You can also change the directory for storing MySQL data by modifying the following line:</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./mysql-lpvs-data:/var/lib/mysql</span>
</code></pre></div>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Database storage by default is a directory in the root of the repository with 
  the name <code>mysql-lpvs-data</code>.</p>
</div>
<hr />
<h2 id="running-and-stopping-lpvs-and-mysql-docker-images">Running and stopping LPVS and MySQL Docker images</h2>
<p>Start the LPVS services using <code>docker compose</code>:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div>
<p>Stop the LPVS services using <code>docker compose</code>:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down
</code></pre></div>
<p>You can now create a new pull request or update an existing one with commits. 
If webhook was configured correctly, LPVS will automatically start scanning and 
provide comments about the licenses and conflicts found in the project.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2024, Samsung Electronics Co., Ltd. All rights reserved.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
